matrix:
  include:

    # mac_cmake
    - os: osx
      env: BUILD_TARGET=mac_cmake
      language: cpp
      osx_image: Xcode
      sudo: required
git:
  submodules: false

before_install:
  - git clone http://github.com/cocos2d/cocos2d-x.git
  - cd ./cocos2d-x
  - python download-deps.py -r yes
  - git submodule update --init
  - export COCOS_CONSOLE_ROOT=`pwd`/tools/cocos2d-console/bin
  - export PATH=$PATH:$COCOS_CONSOLE_ROOT
  - export COCOS_TEMPLATES_ROOT=`pwd`/templates
  - export PATH=$PATH:$COCOS_TEMPLATES_ROOT
  - cd ..
  - echo `pwd`
  - printenv
script:
  - cocos --agreement y
  - cocos compile -p mac -m release -o output

 after_success:
  - export OUTPUTDIR="$PWD/output/"

  
